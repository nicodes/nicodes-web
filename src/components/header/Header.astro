---
import { Image } from "astro:assets";

import menuImg from "../../assets/menu.svg";
import mailImg from "../../assets/mail.svg";

import Button from "../button/Button.astro";
import styles from "./header.module.scss";
import {
  headerBorderId,
  headerLogoAnchorId,
  headerToggleButtonId,
} from "../../scripts/elementIds";

const resumeId = import.meta.env.GOOGLE_DRIVE_RESUME_ID;
---

<header class={styles.header}>
  <div class={styles.content} transition:persist>
    <Button color="black" id={headerToggleButtonId}>
      <Image src={menuImg} width={24} height={24} alt="open navigation icon" />
    </Button>
    <h1 id={headerLogoAnchorId} class={styles.nicodes}>
      <a>N<span>i</span>codes</a>
    </h1>
    <a class={styles.anchor} href="/about">About</a>
    <a class={styles.anchor} href="/portfolio">Portfolio</a>
    <a
      class={styles.anchor}
      href=`https://drive.google.com/uc?export=download&id=${resumeId}`
      >Resume</a
    >
    <a class={styles.anchor} href="https://github.com/nicodes" target="_blank">
      Github
    </a>
    <a
      class={styles.anchor}
      href="https://www.linkedin.com/in/nicozessoules/"
      target="_blank"
    >
      Linkedin
    </a>
    <Button
      anchor
      color="red"
      href="mailto:nicozessoules@gmail.com"
      class={styles.contactButton}
    >
      Contact
    </Button>
    <Button
      anchor
      color="red"
      href="mailto:nicozessoules@gmail.com"
      class={styles.contactButtonIcon}
    >
      <Image src={mailImg} width={24} height={24} alt="open navigation icon" />
    </Button>
  </div>
  <div id={headerBorderId} class={styles.border}></div>
</header>

<script>
  import {
    getHeaderToggleButton,
    getHeaderLogoAnchor,
  } from "../../scripts/client/elements";
  import { navigateHome } from "../../scripts/client/navigation";
  import { navToggle } from "../nav/nav";

  getHeaderLogoAnchor()?.addEventListener("click", navigateHome);
  getHeaderToggleButton()?.addEventListener("click", navToggle);
</script>
